(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[1],{463:function(e,t,n){var r,o=n(7);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(6).createAction,u=n(845),l=n(91),s=n(165),p=s.CancelToken,g=s.isCancel,d=n(895),f=n(161),h=n(160).isIframe,v=n(878).generateLoginURL,m=n(846),y=n(5),w=y.REQUEST_STARTED,b=y.REQUEST_FINISHED,_=y.REQUEST_CANCEL_TOKEN,O=y.REQUEST_CANCELLED,L=y.STEP_NEXT,I=y.CREATE_FLOW,S=y.STEP_RETRY,k=y.PAGE_LOAD,E=y.LOADER_STOP_ANIMATION,j=c(w),P=c(b),C=c(_),T=c(O),x=c(k),U=c(E),A=n(5),D=A.VISIBILITY_INPUT_VALUES,R=A.CONFIGURATIONS,F=c(D),q=c(R),N=n(94).waitMs,K=n(170),V=n(525).isChallenge,z=function(e){var t=e.data,n=t?t.hidden_components:null;return m.getProcessVersion(n)};e.exports=(o(r={},I,(function(e,t,n,r){var o=e.id,i=e.type;return function(e,c){var u=l(),s=p.source(),d=c();return e(j({requestId:u})),f.createFlowFromAction(n,t).then((function(t){var n=t.preloadedServerData;if(e(F(n.inputVisibility)),e(q(t.initialStore.configurations)),e(x({data:n})),e(P({requestId:u,cancelToken:s,leaveLoading:!0})),-1!==["login","login_irreversible"].indexOf(n.currentStep)&&"redirect"===d.configurations.checkoutType){var o=window.location.pathname.replace(/\/redirect.*/g,n.redirectTo),i="".concat(window.location.protocol,"//").concat(window.location.host).concat(o),a=v(d.configurations,i);return window.location.href=a}r.replace(n.redirectTo,{})})).catch((function(n){g(n)?e(T({requestId:u})):(e(P({requestId:u,cancelToken:s,leaveLoading:!0})),e(U({})),N().then((function(){var c=K(n),u=c?"/".concat(o):"",l="/".concat(i).concat(u,"/exception?").concat(t);r.push(l),e(x({data:a(a({},d.page.data),{},{currentStep:"exception",showRetry:c})}))})))}))}})),o(r,L,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return function(c,s){var v=l(),m=p.source(),y=s(),w=y.page.flow.step,b=y.page.data.idempotencyKey,_=y.configurations.version;c(j({requestId:v}));var O=d.getFormValues(e);z(y.page)&&O&&e.id&&(O.id=e.id);var L=u.all([{},n,O]);return c(C(m)),f.updateFlow(_,t,L,{cancelToken:m.token,idempotencyKey:b},w,o).then((function(e){w===e.currentStep?(c(x({data:e})),"redirect"===r&&!h()&&V(e)?(c(P({requestId:v,cancelToken:m,leaveLoading:!0})),i.push("/redirect/".concat(e.flowId,"/tracking/redirect/?").concat(o))):c(P({requestId:v}))):"redirect"===e.currentStep||"redirect"===r&&!h()&&V(e)?(c(x({data:e})),c(P({requestId:v,cancelToken:m,leaveLoading:!0})),i.push("/redirect/".concat(e.flowId,"/tracking/redirect/?").concat(o))):(c(x({data:e})),c(P({requestId:v,cancelToken:m,leaveLoading:!0})),i.push(e.redirectTo))})).catch((function(e){g(e)?c(T({requestId:v})):(c(P({requestId:v,cancelToken:m,leaveLoading:!0})),c(U({})),N().then((function(){var n=K(e),u=n?"/".concat(t):"",l="/".concat(r).concat(u,"/exception?").concat(o);i.push(l),c(x({data:a(a({},y.page.data),{},{currentStep:"exception",showRetry:n})}))})))}))}})),o(r,S,(function(e,t,n,r){return function(o,i){var c=l(),u=i(),s=u.configurations.version;return o(j({requestId:c})),f.retryFlow(s,e,t,n).then((function(e){o(x({data:e})),o(P({requestId:c,leaveLoading:!0})),r.replace(e.redirectTo)})).catch((function(i){g(i)?o(T({requestId:c})):(o(P({requestId:c,leaveLoading:!0})),o(U({})),N().then((function(){var c=K(i);r.replace("/".concat(t).concat(c?"/".concat(e):"","/exception?").concat(n)),o(x({data:a(a({},u.page.data),{},{currentStep:"exception",showRetry:c})}))})))}))}})),r)},525:function(e,t,n){var r=n(164),o=n(878).loginConfig,i=n(897),a=i.kycConfig,c=i.kycSubscriptionsConfig,u=n(898).twofactorConfig,l=n(899).paypalLoginConfig,s=function(e){return{login:o,login_irreversible:o,kyc_ifpe:a,emisor_kyc:a,subscriptions_kyc:c,reauth:u,emisor_reauth:u,paypal_login:l,kyc_bacen:a}[e]},p=function(e){var t,n;return"undefined"!=typeof window&&null!==window?(t=window.location.protocol,n=window.location.host,"".concat(t,"//").concat(r.join(n,e))):e},g=function(e){var t=e.brandName,n=void 0===t?"":t,r=e.login,o=(void 0===r?{popup:{}}:r).popup.base_path;return p("".concat(o,"?merchant=").concat(n))},d=function(e,t){return t&&"undefined"!=typeof window?p("".concat(e.baseName,"/").concat(t)):g(e)},f=function(e){var t=e.currentStep;return s(t)?{challenge:t}:e.components.find((function(e){return"group_challenge"===e.type}))};e.exports.isChallenge=function(e){var t=f(e);return t&&!!s(t.challenge)},e.exports.getConfig=function(e,t,n){var r=f(e),o=r&&s(r.challenge);return o?o(r,t,d(t,n),e.components):null},e.exports.generateWaitingPage=g,e.exports.generateCallbackUrl=d},846:function(e,t){e.exports={getProcessVersion:function(e){return!!Array.isArray(e)&&e.find((function(e){return"process-version"===e.id&&2===e.value}))}}},878:function(e,t,n){var r=n(86),o=n(87),i=n(161),a=function(){"use strict";function e(){r(this,e)}return o(e,null,[{key:"generateLoginURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.platform||{},r=(n.siteId||"").toLowerCase(),o=(n.id||"").toLowerCase(),i=encodeURIComponent(t);return"https://www.mercadolibre.com/jms/".concat(r,"/lgz/login?platform_id=").concat(o,"&go=").concat(i)}},{key:"isUserLogged",value:function(){return i.isUserLogged().then((function(e){return!!e.logged}))}},{key:"loginConfig",value:function(t,n,r){var o=e.generateLoginURL(n,r);return Promise.resolve({challengeUrl:o,pollingFunction:e.isUserLogged,submitFormId:"login_form",popupSetup:{width:500,height:600}})}}]),e}();e.exports.generateWaitingPage=a.generateWaitingPage,e.exports.generateLoginURL=a.generateLoginURL,e.exports.isUserLogged=a.isUserLogged,e.exports.loginConfig=a.loginConfig},895:function(e,t,n){var r=n(7),o=n(86),i=n(87);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=n(845),l=n(896).getFormData,s=function(){"use strict";function e(){o(this,e)}return i(e,null,[{key:"convertArrayToObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.shift(),o=r.replace("[","").replace("]","");return e.length>0?(n[o]={},this.convertArrayToObject(e,t,n[o])):n[o]=t,n}},{key:"getSubmitElements",value:function(e){for(var t={},n=0;n<e.elements.length;n++){var r=e.elements[n];"button"!==r.type&&"submit"!==r.type||!r.name||(t[r.name]="")}return t}},{key:"getFormValues",value:function(e){var t=this,n={},r=[{}],o=c(c({},l(e)),this.getSubmitElements(e)),i=Object.keys(o);return i.length>0&&(i.forEach((function(e){var n=e.match(/\[(.*?)\]/g);r.push(t.convertArrayToObject(n,o[e]))})),n=u.all(r)),n}}]),e}();e.exports=s},896:function(e,t){var n={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},r={button:!0,fieldset:!0,reset:!0,submit:!0},o={checkbox:!0,radio:!0},i=/^\s+|\s+$/g,a=Array.prototype.slice,c=Object.prototype.toString;function u(e,t){var n=null,r=e.type;if("select-one"===r)return e.options.length&&(n=e.options[e.selectedIndex].value),n;if("select-multiple"===r){n=[];for(var c=0,u=e.options.length;c<u;c+=1)e.options[c].selected&&n.push(e.options[c].value);return 0===n.length&&(n=null),n}return"file"===r&&"files"in e?(e.multiple?0===(n=a.call(e.files)).length&&(n=null):n=e.files[0],n):(o[r]?e.checked&&(n=e.value):n=t?e.value.replace(i,""):e.value,n)}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{trim:!1};if(!e)throw new Error("A form is required by getFieldData, was given form=".concat(e));if(!t&&"[object String]"!==c.call(t))throw new Error("A field name is required by getFieldData, was given fieldName=".concat(t));var o=e.elements[t];if(!o||o.disabled)return null;if(!n[c.call(o)])return u(o,r.trim);for(var i=[],a=!0,l=0,s=o.length;l<s;l++)if(!o[l].disabled){a&&"radio"!==o[l].type&&(a=!1);var p=u(o[l],r.trim);null!=p&&(i=i.concat(p))}return a&&1===i.length?i[0]:i.length>0?i:null}e.exports={getFormData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trim:!1};if(!e)throw new Error("A form is required by getFormData, was given form=".concat(e));for(var n,o={},i=[],a={},c=0,u=e.elements.length;c<u;c++){var s=e.elements[c];r[s.type]||s.disabled||(n=s.name)&&!a[n]&&(i.push(n),a[n]=!0)}for(var p=0,g=i.length;p<g;p+=1){var d=l(e,n=i[p],t);null!=d&&(o[n]=d)}return o},getFieldData:l}},897:function(e,t,n){var r=n(161).getKycStatus,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{challenge:{kyc:{}}},n=arguments.length>2?arguments[2]:void 0,r=encodeURIComponent(n),o=t.challenge.kyc;return"".concat(o.base_url).concat(o.base_path,"?initiative=").concat(e,"&callback=").concat(r,"&layout=nav")},i=function(e){return function(){return r(e).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t;return!!(n.is_initiative_compliant||n.has_backoffice_challenges&&!n.has_user_challenges)}))}},a=function(e,t,n,r){var a=o(e,n,r),c=i(e);return Promise.resolve({challengeUrl:a,pollingFunction:c,submitFormId:"kyc_form",popupSetup:{width:768,height:600}})};e.exports.kycSubscriptionsConfig=function(e,t,n){return a("recurring-engine",0,t,n)},e.exports.kycConfig=function(e,t,n){return a("mp-cow",0,t,n)},e.exports.generateKycURL=o,e.exports.generatePollingFunction=i},898:function(e,t,n){var r=n(85),o=(n(1),n(161)),i=o.checkReauthentication,a=o.getReauthenticationStatus,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(t.require_reauth){var r=e.platform||{},o=(r.siteId||"").toLowerCase(),i=(r.id||"").toLowerCase(),a=encodeURIComponent(n);return"https://www.mercadolibre.com/jms/".concat(o,"/lgz/authentication/").concat(t.transaction_id,"?platform_id=").concat(i,"&go=").concat(a)}return n},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){return a(t.transaction_id).then((function(e){return"CLOSED"===e.data.status}))}},l=r("input",{type:"hidden",name:"[components][requireReauth]",value:"true"});e.exports.twofactorConfig=function(e,t,n){return i().then((function(e){return{challengeUrl:c(t,e,n),pollingFunction:u(t,e),submitFormId:"two_factor_form",popupSetup:{initialInterval:e.require_reauth?1e4:0,retries:60,width:500,height:600},formInputs:r("div",{},void 0,l,r("input",{type:"hidden",name:"[components][transactionId]",value:e.transaction_id}))}}))},e.exports.generateUrl=c,e.exports.generatePollingFunction=u},899:function(e,t,n){var r=n(93),o=n(900).insertParam,i=function(e){try{if(e.location.href&&e.location.href.includes("mercadopago")){var t=e.location.search.substr(1),n=r.parse(decodeURI(t)),i=n.status,a=n.authorization_id,c=window.location.search;return c=o("status",i,c),c=o("authorization_id",a,c),window.history.replaceState(null,null,c),Promise.resolve(!0)}return Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}};e.exports.paypalLoginConfig=function(e,t,n,r){var o=r.filter((function(e){return"redirect"===e.type}))[0];return Promise.resolve({challengeUrl:o?o.url:"",pollingFunction:i,submitFormId:"paypal_login_form",popupSetup:{width:500,height:600,paypal:!0}})},e.exports.isUserLoggedPaypal=i},900:function(e,t){e.exports={insertParam:function(e,t,n){for(var r,o=n.substr(1).split("&"),i=o.length-1;i;){if((r=o[i].split("="))[0]===e){r[1]=t,o[i]=r.join("=");break}i-=1}return 0===i&&(o[o.length]=[e,t].join("=")),"?".concat(o.join("&"))}}}}]);
//# sourceMappingURL=chunk.card_form~chunk.card_form_full~chunk.challenge~chunk.congrats~chunk.congrats_recover_form~chun~88062c47.b478308b.js.map